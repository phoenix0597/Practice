def read_large_file(file_path):
    """
    Генератор для построчного чтения большого файла.
    Данный генератор предназначен для чтения файлов, которые слишком велики,
    чтобы поместиться в оперативную память целиком. Он считывает файл построчно,
    позволяя обрабатывать его содержимое частями.
    Parameters:
        file_path (str): Путь к файлу, который нужно прочитать.
    Yields:
        str: Следующая строка из файла.
    """
    with open(file_path, 'r') as file:
        for line in file:
            yield line


def sum_numbers_in_file(file_path):
    """
    Вычисляет сумму чисел, содержащихся в заданном файле.
    Функция считывает данные из файла построчно с использованием генератора
    и подсчитывает сумму всех чисел, найденных в этих строках.
    Parameters:
        file_path (str): Путь к файлу с числами.
    Returns:
        int: Сумма всех чисел в файле.
    """
    total_sum = 0
    for line in read_large_file(file_path):
        # Разбиваем строку на числа, учитывая пробелы и переносы строк
        numbers_in_line = line.split()
        # Конвертируем каждое из значений в числовой формат и суммируем
        for number in numbers_in_line:
            try:
                total_sum += int(number)
            except ValueError:
                # В случае, если встретилось значение, которое не удаётся преобразовать в число
                print(f"Внимание: '{number}' не является числом и было пропущено.")
    return total_sum


# Использование функции для подсчёта суммы чисел в файле
file_path = 'numbers.txt'
print(f"Общая сумма чисел в файле: {sum_numbers_in_file(file_path)}")
